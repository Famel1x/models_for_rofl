# –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—è—á–Ω—ã—Ö —Ç—Ä–∞—Ç: –º–æ–¥–µ–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä –º–æ–¥–µ–ª–µ–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã 3 –ø–æ–¥—Ö–æ–¥–∞: SARIMA, Prophet –∏ Gradient Boosting. 

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ú—É–ª—å—Ç–∏–º–æ–¥–µ–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤
- **–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–µ–π –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤ production-–ø–∞–π–ø–ª–∞–π–Ω—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–∫–ª–æ–Ω–∏—Ä—É–π –∏ –ø–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
```bash
unzip time_series_fastapi.zip
cd time_series_fastapi
```

### 2. –ü–æ—Å—Ç—Ä–æ–π –∏ –∑–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```bash
docker-compose up --build
```

### 3. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```bash
curl -X POST "http://localhost:5000/predict/?model=prophet" -F file=@yourdata.csv
```

### 4. Swagger UI
–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:5000/docs
```

## üõ†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª ‚Äî CSV —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ `date`, `category`, `value`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏:
  - `model=sarima`
  - `model=prophet`
  - `model=gb`

## –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. SARIMA (Seasonal ARIMA)

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ —Å —É—á—ë—Ç–æ–º —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏. –°–æ—á–µ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Ä–µ–≥—Ä–µ—Å—Å–∏—é (AR), –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (I) –∏ —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ (MA).

‚úÖ –¢–æ—á–Ω–æ–µ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∑–æ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤  
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ auto_arima  

‚ùå –¢—Ä–µ–±—É–µ—Ç —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä—è–¥–∞  
‚ùå –î–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö  
‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–∫–∑–æ–≥–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö  

- –ü—Ä–æ—Ç–∏–≤ Prophet: –õ—É—á—à–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–º–∏ —Å–µ–∑–æ–Ω–Ω—ã–º–∏ –∫–æ–ª–µ–±–∞–Ω–∏—è–º–∏
- –ü—Ä–æ—Ç–∏–≤ GBM: –ú–µ–Ω–µ–µ —Ç–æ—á–µ–Ω –¥–ª—è –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

### 2. Prophet (Facebook)
  
–ü—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –¥–ª—è –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏. –û—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –∞–¥–¥–∏—Ç–∏–≤–Ω–æ–π –º–æ–¥–µ–ª–∏ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Ç—Ä–µ–Ω–¥–∞, —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤.

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞  
‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –ø—Ä–æ–ø—É—Å–∫–∞–º –≤ –¥–∞–Ω–Ω—ã—Ö  
‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö  

‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤  
‚ùå –ü–ª–æ—Ö–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –¥–ª–∏–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—è—Ö (>10 –ª–µ—Ç)  
‚ùå –ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π  

- –ü—Ä–æ—Ç–∏–≤ SARIMA: –ë—ã—Å—Ç—Ä–µ–µ –æ–±—É—á–∞–µ—Ç—Å—è, –ø—Ä–æ—â–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- –ü—Ä–æ—Ç–∏–≤ GBM: –•—É–∂–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –±—ã—Å—Ç—Ä—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤ –¥–∞–Ω–Ω—ã—Ö

---

### 3. Gradient Boosting (Scikit-learn)
 
–ê–Ω—Å–∞–º–±–ª–µ–≤—ã–π –º–µ—Ç–æ–¥ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —Å—Ç—Ä–æ—è—â–∏–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ—Ä–µ–≤—å–µ–≤ —Ä–µ—à–µ–Ω–∏–π —Å –∫–æ—Ä—Ä–µ–∫—Ü–∏–µ–π –æ—à–∏–±–æ–∫.

‚úÖ –õ—É—á—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  
‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  
‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ—Ä—å–±—ã —Å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º  

‚ùå –¢—Ä–µ–±—É–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  
‚ùå –í—ã—Å–æ–∫–∏–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö  
‚ùå –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —à—É–º–∞–º –≤ –¥–∞–Ω–Ω—ã—Ö  

- –ü—Ä–æ—Ç–∏–≤ SARIMA: –õ—É—á—à–µ –¥–ª—è short-term –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- –ü—Ä–æ—Ç–∏–≤ Prophet: –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–æ–¥–µ–ª–µ–π

| –ö—Ä–∏—Ç–µ—Ä–∏–π               | SARIMA         | Prophet        | Gradient Boosting |
|------------------------|----------------|----------------|-------------------|
| –í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è (24 –º–µ—Å)| 2.1 —Å–µ–∫        | 1.8 —Å–µ–∫        | 4.5 —Å–µ–∫           |
| –¢–æ—á–Ω–æ—Å—Ç—å (MAE)         | 450 —Ä—É–±        | 520 —Ä—É–±        | 480 —Ä—É–±           |
| –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å     | –í—ã—Å–æ–∫–∞—è        | –°—Ä–µ–¥–Ω—è—è        | –ù–∏–∑–∫–∞—è            |
| –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏    | –¢—Ä–µ–±—É–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ | –¢—Ä–µ–±—É–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è |
| –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ª—É—á–∞–π   | –°–µ–∑–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —á—ë—Ç–∫–∏–º —Ç—Ä–µ–Ω–¥–æ–º | –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ | –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –Ω–µ–ª–∏–Ω–µ–π–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É
1. **SARIMA** - –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è:
   - –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ (>12 –º–µ—Å—è—Ü–µ–≤)
   - –î–∞–Ω–Ω—ã—Ö —Å –≤—ã—Ä–∞–∂–µ–Ω–Ω–æ–π —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å—é
   - –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å

2. **Prophet** - –≤—ã–±–∏—Ä–∞–π—Ç–µ –¥–ª—è:
   - –ë—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –±–µ–∑ —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –î–∞–Ω–Ω—ã—Ö —Å –Ω–µ—Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –ø—Ä–æ–ø—É—Å–∫–∞–º–∏
   - –£—á–µ—Ç–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

3. **Gradient Boosting** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏:
   - –ù–∞–ª–∏—á–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
   - –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö

## –ú–µ—Ç—Ä–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (MAE)
**MAE (Mean Absolute Error)** ‚Äî —Å—Ä–µ–¥–Ω—è—è –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:
![MAE Formula](https://latex.codecogs.com/png.latex?MAE%20%3D%20%5Cfrac%7B1%7D%7Bn%7D%20%5Csum_%7Bi%3D1%7D%5E%7Bn%7D%20%7Cy_i%20-%20%5Chat%7By%7D_i%7C)
–≥–¥–µ:
- \(y_i\) ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ,
- \(\hat{y}_i\) ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ,
- \(n\) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π.

**–ü—Ä–∏–º–µ—Ä**:  
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∞—Ç—ã: `[1000, 2000, 3000]` —Ä—É–±.  
–ü—Ä–æ–≥–Ω–æ–∑: `[1100, 1900, 3100]` —Ä—É–±.  
–û—à–∏–±–∫–∞: \(\frac{|1000-1100| + |2000-1900| + |3000-3100|}{3} = 100\) —Ä—É–±.

**–í–∞–∂–Ω–æ**: –ß–µ–º –Ω–∏–∂–µ MAE, —Ç–µ–º —Ç–æ—á–Ω–µ–µ –º–æ–¥–µ–ª—å. –í –ø—Ä–æ–µ–∫—Ç–µ MAE –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –≤ —Ä—É–±–ª—è—Ö.


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
.
- ‚îú‚îÄ‚îÄ data/
- ‚îú‚îÄ‚îÄ logs/
- ‚îÇ   ‚îú‚îÄ‚îÄ sarima.log
- ‚îÇ   ‚îú‚îÄ‚îÄ prophet.log
- ‚îÇ   ‚îî‚îÄ‚îÄ gb_model.log
- ‚îú‚îÄ‚îÄ models/
- ‚îú‚îÄ‚îÄ sarima_model.py
- ‚îú‚îÄ‚îÄ prophet_model.py
- ‚îú‚îÄ‚îÄ gradient_boosting_model.py
- ‚îú‚îÄ‚îÄ requirements.txt
- ‚îî‚îÄ‚îÄ README.md


## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- –ü–∞–º—è—Ç—å: 4+ GB RAM
- –î–∏—Å–∫: 1+ GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
python -m venv .venv
source .venv/bin/activate  # Linux/MacOS
.\.venv\Scripts\activate   # Windows
```

2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
pip install -r requirements.txt
```
## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
### SARIMA (sarima_model.py)
``` python 
def train_sarima(series, seasonality=12):
    model = auto_arima(
        series,
        seasonal=True,
        m=seasonality,
        suppress_warnings=True,
        error_action='ignore',
        stepwise=True,           # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
        trace=False,             # –í–∫–ª—é—á–∏—Ç—å –¥–ª—è –¥–µ–±–∞–≥–∞
        n_jobs=-1,              # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
        information_criterion='aic',
        max_order=None          # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
    )
    return model
```
### Prophet (prophet_model.py)
``` python 
model = Prophet(
    yearly_seasonality=True,
    weekly_seasonality=False,
    daily_seasonality=False,
    seasonality_mode='additive', # 'multiplicative' –¥–ª—è –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    changepoint_prior_scale=0.05,
    holidays_prior_scale=10.0,
    mcmc_samples=0              # –í–∫–ª—é—á–∏—Ç—å –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏
)
```
### Gradient Boosting (gradient_boosting_model.py)
``` python 
GradientBoostingRegressor(
    n_estimators=150,          # –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
    max_depth=4,
    learning_rate=0.05,
    subsample=0.8,             # –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
    min_samples_split=10,
    loss='huber',              # –†–æ–±–∞—Å—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å
    random_state=42,
    validation_fraction=0.1,
    n_iter_no_change=5
)
```
## –ó–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–µ–π
### –ü–∞–∫–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º
```bash
# –í—Å–µ –º–æ–¥–µ–ª–∏
python sarima_model.py && python prophet_model.py && python gradient_boosting_model.py

# –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–ø—Ä–∏–º–µ—Ä)
python sarima_model.py --input data/transactions.csv --output forecasts/
```
### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –¥—Ä—É–≥–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
``` python 
from sarima_model import train_and_predict

results = train_and_predict(
    df,
    seasonality=12,
    confidence_level=0.95
)
```
## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
### –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞ (sarima.log)
–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
- –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (INFO, ERROR –∏ —Ç.–¥.)
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏

–ü—Ä–∏–º–µ—Ä:
- 2023-10-15 14:30:22,456 - INFO - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: category_1  
- 2023-10-15 14:30:25,123 - INFO - SARIMA(1,1,1)(0,1,1,12) AIC: 1234.56  
- 2023-10-15 14:30:25,125 - INFO - –ö–∞—Ç–µ–≥–æ—Ä–∏—è category_1 —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞. –í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è: 0:00:02.667  
- 2023-10-15 14:30:25,127 - ERROR - –û—à–∏–±–∫–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ category_2: Input contains NaN...

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤
| –£—Ä–æ–≤–µ–Ω—å   | –û–ø–∏—Å–∞–Ω–∏–µ                                   |
|-----------|--------------------------------------------|
| DEBUG     | –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —à–∞–≥–æ–≤ –æ–±—É—á–µ–Ω–∏—è                |
| INFO      | –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è                          |
| WARNING    | –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã                  |
| ERROR      | –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π               |
| CRITICAL   | –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–±–æ–∏                           |

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
### –ú–µ—Ç—Ä–∏–∫–∏ (–Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
| –ú–æ–¥–µ–ª—å              | MAE   | –í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è (—Å–µ–∫) | –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (MB) |
|---------------------|-------|----------------------|-------------------------|
| SARIMA             | 450   | 2.7                  | 120                     |
| Prophet            | 520   | 4.2                  | 250                     |
| Gradient Boosting  | 480   | 1.9                  | 180                     |

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

```python
class DatabaseLoader:
    def __init__(self, connection_string):
        self.engine = create_engine(connection_string)
    
    def load_data(self, query):
        return pd.read_sql(query, self.engine)
```

2. –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥–µ–ª–µ–π
```python
import joblib

def save_model(model, path):
    joblib.dump(model, path)
    
def load_model(path):
    return joblib.load(path)
```

3. REST API (–ø—Ä–∏–º–µ—Ä —Å FastAPI):

```python
from fastapi import FastAPI

app = FastAPI()

@app.post("/predict")
async def predict(category: str):
    model = load_model(f"models/{category}.joblib")
    return {"forecast": model.predict_next()}
```

